# üîê CERTIFICADO DIGITAL E CHAVE SEBRAZ

## üìã CONFIGURA√á√ÉO PARA PRODU√á√ÉO

### üîê **Certificado Digital:**

#### **Tipos de Certificado Suportados:**
- ‚úÖ **Certificado A1**: Software (arquivo .pfx ou .p12)
- ‚úÖ **Certificado A3**: Hardware (token ou cart√£o)

#### **Como Obter o Certificado:**
1. **Acesse uma Autoridade Certificadora (AC)**
   - Serasa Experian
   - Certisign
   - Valid
   - Caixa Econ√¥mica Federal
   - Receita Federal

2. **Documentos Necess√°rios:**
   - Contrato social da empresa
   - CNPJ ativo
   - Documentos pessoais do respons√°vel
   - Comprovante de endere√ßo

3. **Processo:**
   - Agende hor√°rio na AC
   - Compare√ßa com documentos
   - Receba o certificado digital
   - Instale no computador

#### **Instala√ß√£o do Certificado:**
1. **Certificado A1 (Software):**
   ```
   - Clique duas vezes no arquivo .pfx
   - Digite a senha do certificado
   - Escolha "M√°quina Local" para instala√ß√£o
   - Confirme a instala√ß√£o
   ```

2. **Certificado A3 (Hardware):**
   ```
   - Conecte o token/cart√£o ao computador
   - Instale os drivers fornecidos
   - O certificado ser√° detectado automaticamente
   ```

### üè¢ **Chave SEBRAZ:**

#### **O que √© a Chave SEBRAZ:**
- **Identifica√ß√£o √∫nica** da empresa no sistema SEFAZ
- **Autoriza√ß√£o** para emiss√£o de NF-e
- **Credenciais** de acesso ao webservice

#### **Como Obter a Chave SEBRAZ:**
1. **Acesse o Portal SEFAZ:**
   - V√° para o site da SEFAZ do seu estado
   - Acesse a √°rea de contribuinte

2. **Cadastro Inicial:**
   - Informe o CNPJ da empresa
   - Dados do respons√°vel
   - Endere√ßo e contatos

3. **Solicita√ß√£o de Credenciais:**
   - Solicite acesso ao webservice NF-e
   - Receba usu√°rio e senha
   - Configure ambiente de produ√ß√£o

#### **Configura√ß√£o no Sistema:**
1. **Arquivo de Configura√ß√£o:**
   ```json
   {
     "sebraz": {
       "usuario": "SEU_USUARIO",
       "senha": "SUA_SENHA",
       "ambiente": "producao",
       "uf": "SP"
     }
   }
   ```

2. **Certificado Digital:**
   - Instale o certificado no Windows
   - O sistema detectar√° automaticamente
   - Configure a senha do certificado

### üîß **Configura√ß√£o no Sistema:**

#### **Modo Homologa√ß√£o (Atual):**
- ‚úÖ **Funcionando**: Sistema operacional
- ‚úÖ **Testes**: Pode gerar NF-e de teste
- ‚úÖ **Sem valor fiscal**: Para desenvolvimento

#### **Modo Produ√ß√£o (Com certificado):**
- üîê **Certificado**: Necess√°rio certificado v√°lido
- üè¢ **SEBRAZ**: Credenciais da SEFAZ
- üìã **Autoriza√ß√£o**: NF-e com valor fiscal real

### üìÅ **Estrutura de Pastas:**

#### **Pasta certificados/:**
```
certificados/
‚îú‚îÄ‚îÄ certificado.pfx          # Certificado A1 (se aplic√°vel)
‚îú‚îÄ‚îÄ config_sebraz.json       # Configura√ß√µes SEBRAZ
‚îî‚îÄ‚îÄ README.txt              # Instru√ß√µes de instala√ß√£o
```

#### **Arquivo config_sebraz.json:**
```json
{
  "ambiente": "producao",
  "uf": "SP",
  "usuario_sebraz": "SEU_USUARIO",
  "senha_sebraz": "SUA_SENHA",
  "certificado": {
    "tipo": "A1",
    "arquivo": "certificado.pfx",
    "senha": "SENHA_CERTIFICADO"
  },
  "webservice": {
    "url": "https://nfe.fazenda.sp.gov.br/ws/nfeautorizacao4.asmx",
    "timeout": 30
  }
}
```

### üöÄ **Migra√ß√£o para Produ√ß√£o:**

#### **Passo a Passo:**
1. **Obter Certificado Digital:**
   - Contrate com AC autorizada
   - Instale no computador
   - Teste a instala√ß√£o

2. **Obter Credenciais SEBRAZ:**
   - Cadastre na SEFAZ
   - Receba usu√°rio e senha
   - Configure ambiente

3. **Configurar Sistema:**
   - Edite config_sebraz.json
   - Insira credenciais
   - Teste conex√£o

4. **Testar Emiss√£o:**
   - Gere NF-e de teste
   - Verifique autoriza√ß√£o
   - Confirme funcionamento

#### **Arquivos Necess√°rios:**
- ‚úÖ **sistema_nota_fiscal.pyw**: Sistema principal
- ‚úÖ **SISTEMA.bat**: Execu√ß√£o
- ‚úÖ **INSTALAR_SISTEMA_COMPLETO.bat**: Instala√ß√£o
- ‚úÖ **certificado.pfx**: Certificado digital
- ‚úÖ **config_sebraz.json**: Configura√ß√µes

### üìã **Checklist para Produ√ß√£o:**

#### **‚úÖ Pr√©-requisitos:**
- [ ] Python 3.7+ instalado
- [ ] Todas as depend√™ncias instaladas
- [ ] Certificado digital v√°lido
- [ ] Credenciais SEBRAZ
- [ ] CNPJ ativo e regular

#### **‚úÖ Configura√ß√µes:**
- [ ] Certificado instalado no Windows
- [ ] Configura√ß√µes SEBRAZ definidas
- [ ] Ambiente alterado para produ√ß√£o
- [ ] Teste de conex√£o realizado
- [ ] NF-e de teste autorizada

#### **‚úÖ Funcionalidades:**
- [ ] Login funcionando
- [ ] Dados da empresa configurados
- [ ] Produtos cadastrados
- [ ] Gera√ß√£o de PDF funcionando
- [ ] Gera√ß√£o de XML funcionando
- [ ] Autoriza√ß√£o SEFAZ funcionando

### üîç **Solu√ß√£o de Problemas:**

#### **Erro de Certificado:**
```
‚ùå Certificado n√£o encontrado
‚úÖ Solu√ß√£o: Verificar instala√ß√£o do certificado
```

#### **Erro de Conex√£o SEBRAZ:**
```
‚ùå Falha na conex√£o com SEFAZ
‚úÖ Solu√ß√£o: Verificar credenciais e internet
```

#### **Erro de Autoriza√ß√£o:**
```
‚ùå NF-e n√£o autorizada
‚úÖ Solu√ß√£o: Verificar dados e certificado
```

### üìû **Suporte:**

#### **SEFAZ:**
- **SP**: https://www.nfe.fazenda.sp.gov.br
- **RJ**: https://www.nfe.fazenda.rj.gov.br
- **MG**: https://www.nfe.fazenda.mg.gov.br

#### **Autoridades Certificadoras:**
- **Serasa**: https://www.serasaexperian.com.br
- **Certisign**: https://www.certisign.com.br
- **Valid**: https://www.valid.com.br

### üéØ **CONCLUS√ÉO:**

**Para migrar para produ√ß√£o:**
1. **Obtenha certificado digital**
2. **Configure credenciais SEBRAZ**
3. **Teste todas as funcionalidades**
4. **Inicie uso em produ√ß√£o**

**O sistema est√° preparado para produ√ß√£o com certificado digital e credenciais SEBRAZ! üöÄ** 